<f:layout name="default" />

<f:section name="contents">
	<div class="csc-header csc-header-n1"><h1 class="csc-firstHeader">{blog.name}</h1></div>
	<f:if condition="{posts}">
		<f:then>
			<p class="bodytext">Here's a list of posts:</p>
			<ul>
				<f:for each="{posts}" as="post">
					<li>
						<h3>
							<f:format.date format='l j. \o\f F Y'>{post.date}</f:format.date>
							<f:link.action action="show" controller="Post" arguments="{post: post, blog: post.blog}">{post.title}</f:link.action>
						</h3>
						<p class="bodytext"><f:format.crop maxCharacters="100">{post.content}</f:format.crop></p>
					</li>
				</f:for>
			</ul>
		</f:then>
		<f:else>
			<p>This blog currently doesn't contain any posts.</p>
		</f:else>
	</f:if>
	ï»¿<f:link.action action="new" controller="Post" arguments="{blog: blog}">create post</f:link.action>
</f:section>