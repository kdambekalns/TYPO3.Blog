<f:layout name="Master" />

<f:section name="mainbox">
	<h2 class="flow3-firstHeader">Manage Categories</h2>
	<f:flashMessages class="flashmessages" />
	<f:if condition="{categories}">
		<ul class="categories">
			<f:for each="{categories}" as="category">
				<li class="category">
					<f:link.action action="show" controller="Category" arguments="{category: category}">{category.name}</f:link.action>
					<f:link.action action="edit" arguments="{category: category}" controller="Category"><img src="{f:uri.resource(path: 'Icons/FamFamFam/page_edit.png')}" title="Edit category" /></f:link.action>
					<f:link.action onclick="return confirm('Really delete this category?');" action="delete" arguments="{category: category}" controller="Category"><img src="{f:uri.resource(path: 'Icons/FamFamFam/page_delete.png')}" title="Delete category" /></f:link.action>
			</f:for>
		</ul>
		<br />
	</f:if>

	<f:form.errors for="newCategory">
		<div class="error">
			<strong>{error.propertyName}</strong>: <f:for each="{error.errors}" as="errorDetail">{errorDetail.message}</f:for>
		</div>
	</f:form.errors>
	<f:form method="post" action="create" object="{newCategory}" name="newCategory">
		<label>Name</label><br />
		<f:form.textbox property="name" /><br />
		<f:form.submit value="Add category"/>
	</f:form>

</f:section>